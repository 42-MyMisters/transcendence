{"ast":null,"code":"var _jsxFileName = \"/data/front/src/pages/GamePage.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport BackGround from \"../components/BackGround\";\nimport \"../components/GamePage/PingPong\";\nimport PingPong from \"../components/GamePage/PingPong\";\nimport TopBar from \"../components/TopBar\";\nimport { useAtom, useAtomValue, useSetAtom } from \"jotai\";\nimport { isGameStartedAtom, isLoadingAtom, isMatchedAtom, isPrivateAtom, isGameQuitAtom, gameInviteInfoAtom, gameSocketAtom, gameModeAtom,\n// isP1Atom,\ngameWinnerAtom, p1IdAtom, p2IdAtom, gamePlayerAtom, GamePlayer, gameModeForDisplayAtom } from \"../components/atom/GameAtom\";\nimport * as chatAtom from \"../components/atom/ChatAtom\";\nimport { gameResultModalAtom } from \"../components/atom/ModalAtom\";\nimport GameResultModal from \"../components/GamePage/GameResultModal\";\nimport LadderBoard from \"../components/GamePage/LadderBoard\";\nimport Waiting from \"../components/GamePage/Waiting\";\nimport { AdminLogPrinter, PressKey } from \"../event/event.util\";\nimport { UserAtom } from \"../components/atom/UserAtom\";\nimport { GameType } from \"../socket/game.dto\";\nimport { player1, player2 } from \"../components/GamePage/GameInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GamePage() {\n  _s();\n  const [showComponent, setShowComponent] = useState(true);\n  const [gameResultModal, setGameResultModal] = useAtom(gameResultModalAtom);\n  const [isLoading, setIsLoading] = useAtom(isLoadingAtom);\n  const [isMatched, setIsMatched] = useAtom(isMatchedAtom);\n  const [isPrivate, setIsPrivate] = useAtom(isPrivateAtom);\n  const [isGameStart, setIsGameStart] = useAtom(isGameStartedAtom);\n  const setIsGameQuit = useSetAtom(isGameQuitAtom);\n  const [gameInviteInfo, setGameInviteInfo] = useAtom(gameInviteInfoAtom);\n  const [gameMode, setGameMode] = useAtom(gameModeAtom);\n  const [adminConsole, setAdminConsole] = useAtom(chatAtom.adminConsoleAtom);\n  const [userInfo, setUserInfo] = useAtom(UserAtom);\n  const [gameSocket, setGameSocket] = useAtom(gameSocketAtom);\n  const [gamePlayer, setGamePlayer] = useAtom(gamePlayerAtom);\n  const [gameModeForDisplay, setGameModeForDisplay] = useAtom(gameModeForDisplayAtom);\n  // const [isP1, setIsP1] = useAtom(isP1Atom);\n\n  const [p1Id, setP1Id] = useAtom(p1IdAtom);\n  const [p2Id, setP2Id] = useAtom(p2IdAtom);\n  const userList = useAtomValue(chatAtom.userListAtom);\n  const gameWinner = useAtomValue(gameWinnerAtom);\n  class socketAuth {\n    constructor(inviteInfo) {\n      this.token = void 0;\n      this.type = void 0;\n      this.invite = void 0;\n      this.observ = void 0;\n      this.token = localStorage.getItem(\"refreshToken\");\n      this.type = isPrivate ? GameType.PRIVATE : GameType.PUBLIC;\n      if (inviteInfo.gameType === 'invite') {\n        this.invite = inviteInfo.userId;\n      } else if (inviteInfo.gameType === 'observe') {\n        this.observ = inviteInfo.userId;\n      }\n    }\n  }\n  PressKey([\"F4\"], () => {\n    setAdminConsole(prev => !prev);\n  });\n  const clearState = () => {\n    // setIsGameStart(false);\n    setIsLoading(false);\n    setIsMatched(false);\n    setIsGameQuit(true);\n    setGamePlayer(GamePlayer.undefined);\n    setGameMode('normal');\n  };\n  useEffect(() => {\n    AdminLogPrinter(adminConsole, `gameSocket connection`);\n    const auth = new socketAuth(gameInviteInfo);\n    gameSocket.auth = auth;\n    const socket = gameSocket;\n    socket.connect();\n    setGameSocket(socket);\n    setGameInviteInfo({\n      gameType: 'queue',\n      userId: -1\n    });\n    setIsGameQuit(false);\n    if (!isGameStart) {\n      setIsLoading(true);\n    } else {\n      setGamePlayer(GamePlayer.observer);\n    }\n    if (isPrivate) {\n      setP1Id(userInfo.uid);\n    }\n    return () => {\n      gameSocket.disconnect();\n      clearState();\n    };\n  }, []);\n  const connectionEventHandler = () => {\n    if (gameSocket.connected) {\n      //This attribute describes whether the socket is currently connected to the server.\n      if (gameSocket.recovered) {\n        // any missed packets will be received\n      } else {\n        // new or unrecoverable session\n        AdminLogPrinter(adminConsole, \"gameSocket connected\");\n      }\n    }\n  };\n\n  //https://socket.io/docs/v4/client-socket-instance/#disconnect\n  const disconnectionEventHandler = reason => {\n    if (reason === \"io server disconnect\") {}\n    console.log(`gameSocket end`, reason);\n    clearState();\n    AdminLogPrinter(adminConsole, \"gameSocket disconnected\");\n  };\n  const gameStartEventHandler = _ref => {\n    let {\n      gameMode,\n      p1,\n      p2\n    } = _ref;\n    AdminLogPrinter(adminConsole, \"game start\");\n    setGameModeForDisplay(gameMode);\n    setIsLoading(false);\n    setIsMatched(false);\n    setIsGameStart(true);\n  };\n  const matchEventHandler = _ref2 => {\n    let {\n      p1,\n      p2\n    } = _ref2;\n    AdminLogPrinter(adminConsole, \"matched\");\n    if (p1 === userInfo.uid) {\n      // setIsP1(true);\n      setGamePlayer(GamePlayer.player1);\n      setP1Id(p1);\n      setP2Id(p2);\n      player1.uid = p1;\n      player2.uid = p2;\n    } else if (p2 === userInfo.uid) {\n      setGamePlayer(GamePlayer.player2);\n      setP1Id(p2);\n      setP2Id(p1);\n      player1.uid = p2;\n      player2.uid = p1;\n    } else {\n      setGamePlayer(GamePlayer.observer);\n      setP1Id(p1);\n      setP2Id(p2);\n      player1.uid = p1;\n      player2.uid = p2;\n    }\n    setIsMatched(true);\n  };\n  const observerEventHandler = _ref3 => {\n    let {\n      gameMode,\n      p1,\n      p2\n    } = _ref3;\n    AdminLogPrinter(adminConsole, \"observer\");\n    setGameModeForDisplay(gameMode);\n    setP1Id(p1);\n    setP2Id(p2);\n    player1.uid = p1;\n    player2.uid = p2;\n  };\n  useEffect(() => {\n    gameSocket.on(\"observer\", observerEventHandler);\n    return () => {\n      gameSocket.off(\"observer\", observerEventHandler);\n    };\n  }, [gameSocket]);\n  useEffect(() => {\n    gameSocket.on(\"connect\", connectionEventHandler);\n    gameSocket.on(\"gameStart\", gameStartEventHandler);\n    return () => {\n      gameSocket.off(\"connect\", connectionEventHandler);\n      gameSocket.off(\"gameStart\", gameStartEventHandler);\n    };\n  }, [isGameStart, gameSocket]);\n  useEffect(() => {\n    gameSocket.on(\"disconnect\", disconnectionEventHandler);\n    return () => {\n      gameSocket.off(\"disconnect\", disconnectionEventHandler);\n    };\n  }, [isPrivate, isGameStart, gameSocket]);\n  useEffect(() => {\n    gameSocket.on(\"matched\", matchEventHandler);\n    return () => {\n      gameSocket.off(\"matched\", matchEventHandler);\n    };\n  }, [isMatched, gameSocket]);\n  return /*#__PURE__*/_jsxDEV(BackGround, {\n    children: [adminConsole ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const loading = !isLoading;\n          setIsLoading(loading);\n        },\n        children: \"LadderRanking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const gameOverModal = !gameResultModal;\n          setGameResultModal(gameOverModal);\n        },\n        children: \"GameOver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          console.log(`isPrivate: ${isPrivate}`);\n        },\n        children: \"isPrivate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), isLoading ? isPrivate ? /*#__PURE__*/_jsxDEV(Waiting, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 16\n    }, this) : isMatched ? /*#__PURE__*/_jsxDEV(Waiting, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(LadderBoard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 18\n    }, this) : isGameStart ? /*#__PURE__*/_jsxDEV(PingPong, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 16\n    }, this) : '', gameResultModal ? /*#__PURE__*/_jsxDEV(GameResultModal, {\n      leftScore: player1.score,\n      rightScore: player2.score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 26\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n_s(GamePage, \"BsuXxLqoPdZiD0SJboNk9SIZtF4=\", false, function () {\n  return [useAtom, useAtom, useAtom, useAtom, useAtom, useSetAtom, useAtom, useAtom, useAtom, useAtom, useAtom, useAtom, useAtom, useAtom, useAtom, useAtomValue, useAtomValue];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");","map":{"version":3,"names":["useEffect","useState","BackGround","PingPong","TopBar","useAtom","useAtomValue","useSetAtom","isGameStartedAtom","isLoadingAtom","isMatchedAtom","isPrivateAtom","isGameQuitAtom","gameInviteInfoAtom","gameSocketAtom","gameModeAtom","gameWinnerAtom","p1IdAtom","p2IdAtom","gamePlayerAtom","GamePlayer","gameModeForDisplayAtom","chatAtom","gameResultModalAtom","GameResultModal","LadderBoard","Waiting","AdminLogPrinter","PressKey","UserAtom","GameType","player1","player2","jsxDEV","_jsxDEV","GamePage","_s","showComponent","setShowComponent","gameResultModal","setGameResultModal","isLoading","setIsLoading","isMatched","setIsMatched","isPrivate","setIsPrivate","isGameStart","setIsGameStart","setIsGameQuit","gameInviteInfo","setGameInviteInfo","gameMode","setGameMode","adminConsole","setAdminConsole","adminConsoleAtom","userInfo","setUserInfo","gameSocket","setGameSocket","gamePlayer","setGamePlayer","gameModeForDisplay","setGameModeForDisplay","p1Id","setP1Id","p2Id","setP2Id","userList","userListAtom","gameWinner","socketAuth","constructor","inviteInfo","token","type","invite","observ","localStorage","getItem","PRIVATE","PUBLIC","gameType","userId","prev","clearState","undefined","auth","socket","connect","observer","uid","disconnect","connectionEventHandler","connected","recovered","disconnectionEventHandler","reason","console","log","gameStartEventHandler","_ref","p1","p2","matchEventHandler","_ref2","observerEventHandler","_ref3","on","off","children","onClick","loading","fileName","_jsxFileName","lineNumber","columnNumber","gameOverModal","leftScore","score","rightScore","_c","$RefreshReg$"],"sources":["/data/front/src/pages/GamePage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport BackGround from \"../components/BackGround\";\nimport \"../components/GamePage/PingPong\";\nimport PingPong from \"../components/GamePage/PingPong\";\nimport TopBar from \"../components/TopBar\";\n\nimport { useAtom, useAtomValue, useSetAtom } from \"jotai\";\nimport {\n  isGameStartedAtom,\n  isLoadingAtom,\n  isMatchedAtom,\n  isPrivateAtom,\n  isGameQuitAtom,\n  gameInviteInfoAtom,\n  gameSocketAtom,\n  gameModeAtom,\n  // isP1Atom,\n  gameWinnerAtom,\n  p1IdAtom,\n  p2IdAtom,\n  gamePlayerAtom,\n  GamePlayer,\n  GameMode,\n  gameModeForDisplayAtom,\n} from \"../components/atom/GameAtom\";\n\nimport * as chatSocket from \"../socket/chat.socket\";\nimport * as chatAtom from \"../components/atom/ChatAtom\";\nimport { gameResultModalAtom } from \"../components/atom/ModalAtom\";\nimport GameResultModal from \"../components/GamePage/GameResultModal\";\nimport LadderBoard from \"../components/GamePage/LadderBoard\";\n\nimport Waiting from \"../components/GamePage/Waiting\";\nimport { AdminLogPrinter, PressKey } from \"../event/event.util\";\nimport { io, Socket } from 'socket.io-client';\nimport { UserAtom } from \"../components/atom/UserAtom\";\nimport { GameType } from \"../socket/game.dto\";\nimport { player1, player2 } from \"../components/GamePage/GameInfo\";\n\nexport default function GamePage() {\n  const [showComponent, setShowComponent] = useState(true);\n  const [gameResultModal, setGameResultModal] = useAtom(gameResultModalAtom);\n\n  const [isLoading, setIsLoading] = useAtom(isLoadingAtom);\n  const [isMatched, setIsMatched] = useAtom(isMatchedAtom);\n  const [isPrivate, setIsPrivate] = useAtom(isPrivateAtom);\n  const [isGameStart, setIsGameStart] = useAtom(isGameStartedAtom);\n  const setIsGameQuit = useSetAtom(isGameQuitAtom);\n  const [gameInviteInfo, setGameInviteInfo] = useAtom(gameInviteInfoAtom);\n  const [gameMode, setGameMode] = useAtom(gameModeAtom);\n\n  const [adminConsole, setAdminConsole] = useAtom(chatAtom.adminConsoleAtom);\n\n  const [userInfo, setUserInfo] = useAtom(UserAtom);\n\n  const [gameSocket, setGameSocket] = useAtom(gameSocketAtom);\n\n  const [gamePlayer, setGamePlayer] = useAtom(gamePlayerAtom);\n\n  const [gameModeForDisplay, setGameModeForDisplay] = useAtom(gameModeForDisplayAtom);\n  // const [isP1, setIsP1] = useAtom(isP1Atom);\n\n\n  const [p1Id, setP1Id] = useAtom(p1IdAtom);\n  const [p2Id, setP2Id] = useAtom(p2IdAtom);\n\n  const userList = useAtomValue(chatAtom.userListAtom);\n  const gameWinner = useAtomValue(gameWinnerAtom);\n\n  class socketAuth {\n    token: string | null;\n    type: GameType;\n    invite?: number;\n    observ?: number;\n    constructor(inviteInfo: { gameType: string, userId: number }) {\n      this.token = localStorage.getItem(\"refreshToken\");\n      this.type = isPrivate ? GameType.PRIVATE : GameType.PUBLIC;\n      if (inviteInfo.gameType === 'invite') {\n        this.invite = inviteInfo.userId;\n      } else if (inviteInfo.gameType === 'observe') {\n        this.observ = inviteInfo.userId;\n      }\n    }\n  }\n\n  PressKey([\"F4\"], () => {\n    setAdminConsole((prev) => !prev);\n  });\n\n  const clearState = () => {\n    // setIsGameStart(false);\n    setIsLoading(false);\n    setIsMatched(false);\n    setIsGameQuit(true);\n    setGamePlayer(GamePlayer.undefined);\n    setGameMode('normal');\n  };\n\n  useEffect(() => {\n    AdminLogPrinter(adminConsole, `gameSocket connection`);\n    const auth = new socketAuth(gameInviteInfo);\n    gameSocket.auth = auth;\n    const socket = gameSocket;\n    socket.connect();\n    setGameSocket(socket);\n    setGameInviteInfo({ gameType: 'queue', userId: -1 });\n    setIsGameQuit(false);\n    if (!isGameStart) {\n      setIsLoading(true);\n    } else {\n      setGamePlayer(GamePlayer.observer);\n    }\n    if (isPrivate) {\n      setP1Id(userInfo.uid);\n    }\n    return () => {\n      gameSocket.disconnect();\n      clearState();\n    };\n  }, []);\n\n  const connectionEventHandler = () => {\n    if (gameSocket.connected) {\n      //This attribute describes whether the socket is currently connected to the server.\n      if (gameSocket.recovered) {\n        // any missed packets will be received\n      } else {\n        // new or unrecoverable session\n        AdminLogPrinter(adminConsole, \"gameSocket connected\");\n      }\n    }\n  };\n\n  //https://socket.io/docs/v4/client-socket-instance/#disconnect\n  const disconnectionEventHandler = (reason: string) => {\n    if (reason === \"io server disconnect\") {\n    }\n    console.log(`gameSocket end`, reason);\n    clearState();\n    AdminLogPrinter(adminConsole, \"gameSocket disconnected\");\n  };\n\n  const gameStartEventHandler = ({gameMode, p1, p2}: {gameMode: GameMode, p1: number, p2: number}) => {\n    AdminLogPrinter(adminConsole, \"game start\");\n    setGameModeForDisplay(gameMode);\n    setIsLoading(false);\n    setIsMatched(false);\n    setIsGameStart(true);\n  };\n\n  const matchEventHandler = ({ p1, p2 }: { p1: number, p2: number }) => {\n    AdminLogPrinter(adminConsole, \"matched\");\n    if (p1 === userInfo.uid) {\n      // setIsP1(true);\n      setGamePlayer(GamePlayer.player1);\n      setP1Id(p1);\n      setP2Id(p2);\n      player1.uid = p1;\n      player2.uid = p2;\n    } else if (p2 === userInfo.uid) {\n      setGamePlayer(GamePlayer.player2);\n      setP1Id(p2);\n      setP2Id(p1);\n      player1.uid = p2;\n      player2.uid = p1;\n    } else {\n      setGamePlayer(GamePlayer.observer);\n      setP1Id(p1);\n      setP2Id(p2);\n      player1.uid = p1;\n      player2.uid = p2;\n    }\n    setIsMatched(true);\n  };\n\n  const observerEventHandler = ({gameMode, p1, p2}: {gameMode: GameMode, p1: number, p2: number}) => {\n    AdminLogPrinter(adminConsole, \"observer\");\n    setGameModeForDisplay(gameMode);\n    setP1Id(p1);\n    setP2Id(p2);\n    player1.uid = p1;\n    player2.uid = p2;\n  };\n\n  useEffect(() => {\n    gameSocket.on(\"observer\", observerEventHandler);\n    return () => {\n      gameSocket.off(\"observer\", observerEventHandler);\n    }\n  }, [gameSocket]);\n\n  useEffect(() => {\n    gameSocket.on(\"connect\", connectionEventHandler);\n    gameSocket.on(\"gameStart\", gameStartEventHandler);\n    return () => {\n      gameSocket.off(\"connect\", connectionEventHandler);\n      gameSocket.off(\"gameStart\", gameStartEventHandler);\n    };\n  }, [isGameStart, gameSocket]);\n\n  useEffect(() => {\n    gameSocket.on(\"disconnect\", disconnectionEventHandler);\n    return () => {\n      gameSocket.off(\"disconnect\", disconnectionEventHandler);\n    };\n  }, [isPrivate, isGameStart, gameSocket]);\n\n  useEffect(() => {\n    gameSocket.on(\"matched\", matchEventHandler);\n    return () => {\n      gameSocket.off(\"matched\", matchEventHandler);\n    }\n  }, [isMatched, gameSocket]);\n\n  return (\n    <BackGround>\n      {adminConsole ? (\n        <div>\n          <button\n            onClick={() => {\n              const loading = !isLoading;\n              setIsLoading(loading);\n            }}\n          >\n            LadderRanking\n          </button>\n          <button\n            onClick={() => {\n              const gameOverModal = !gameResultModal;\n              setGameResultModal(gameOverModal);\n            }}\n          >\n            GameOver\n          </button>\n          <button\n            onClick={() => {\n              console.log(`isPrivate: ${isPrivate}`);\n            }}\n          >\n            isPrivate\n          </button>\n        </div>\n      ) : (\n        \"\"\n      )}\n      <TopBar />\n      {\n        isLoading\n          ? (isPrivate\n            ? (<Waiting />)\n            : (isMatched\n              ? (<Waiting />)\n              : (<LadderBoard />)\n            )\n          )\n          : isGameStart\n            ? (<PingPong />)\n            : ''\n      }\n      {gameResultModal ? <GameResultModal leftScore={player1.score} rightScore={player2.score} /> : null}\n    </BackGround>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}